(function(e){function t(t){for(var l,s,r=t[0],o=t[1],c=t[2],d=0,h=[];d<r.length;d++)s=r[d],i[s]&&h.push(i[s][0]),i[s]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],l=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(l=!1)}l&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var l={},i={app:0},a=[];function s(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=l,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(n,l,function(t){return e[t]}.bind(null,l));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/ele-multi-cascader-demo/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d76")},"2e42":function(e,t,n){},"3e05":function(e,t,n){"use strict";var l=n("4dae"),i=n.n(l);i.a},"4dae":function(e,t,n){},"56d7":function(e,t){e.exports=[{title:"默认",id:-1,sub:null,value:-1,isLeaf:!0},{title:"电信",sub:[{title:"华东电信",sub:[{title:"安徽电信",id:51,sub:null,value:51},{title:"福建电信",id:52,sub:null,value:52},{title:"江苏电信",id:53,sub:null,value:53}],id:11,value:11},{title:"华南电信",sub:[{title:"广东电信",id:58,sub:null,value:58},{title:"广西电信",id:59,sub:null,value:59}],id:12,value:12}],id:1,value:1},{title:"联通",sub:[{title:"华东联通",sub:[{title:"安徽联通",id:91,sub:null,value:91},{title:"福建联通",id:92,sub:null,value:92},{title:"江苏联通",id:93,sub:null,value:93}],id:21,value:21,disabled:!0},{title:"华南联通",sub:[{title:"广东联通",id:98,sub:null,value:98},{title:"广西联通",id:99,sub:null,value:99},{title:"海南联通",id:100,sub:null,value:100}],id:22,value:22,disabled:!0}],id:2,value:2,disabled:!0},{title:"移动",sub:[{title:"华东移动",sub:[{title:"安徽移动",id:131,sub:null,value:131}],id:31,value:31,disabled:!0},{title:"华南移动",sub:[{title:"广东移动",id:138,sub:null,value:138},{title:"广西移动",id:139,sub:null,value:139},{title:"海南移动",id:140,sub:null,value:140}],id:32,value:32,disabled:!0}],id:3,value:3,disabled:!0},{title:"教育网",id:6,sub:null,value:6},{title:"电信通",id:7,sub:null,value:7}]},"56d76":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var l=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("p",{staticClass:"title"},[e._v("Ele-Multi-Cascader 示例")]),n("a",{attrs:{href:"https://github.com/webCoderJ/ele-multi-cascader",target:"_blank"}},[n("el-button",{attrs:{type:"success",size:"mini",plain:""}},[e._v("@github")])],1),n("a",{staticClass:"ml10",attrs:{href:"https://www.npmjs.com/package/ele-multi-cascader",target:"_blank"}},[n("el-button",{attrs:{type:"warning",size:"mini",plain:""}},[e._v("@npm")])],1),n("br"),n("br"),n("el-row",{staticClass:"demo-wrapper"},[n("el-col",{staticClass:"demo-col",attrs:{gutter:100,span:7}},[n("div",{staticStyle:{"text-align":"left"}},[n("p",[e._v("Data")]),n("pre",[e._v("          "+e._s(e.options)+"\n        ")])])]),n("el-col",{staticClass:"demo-col",attrs:{gutter:100,span:10}},[n("br"),n("br"),n("br"),n("br"),n("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.form,rules:e.rules,"label-position":"left"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"选中子项: ",prop:"selectChildren",align:"left"}},[n("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},on:{change:e.resetModel},model:{value:e.form.selectChildren,callback:function(t){e.$set(e.form,"selectChildren",t)},expression:"form.selectChildren"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"展示层级:",prop:"selectChildren",align:"left"}},[n("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},on:{change:e.resetModel},model:{value:e.form.showAllLevels,callback:function(t){e.$set(e.form,"showAllLevels",t)},expression:"form.showAllLevels"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"输出层级:",prop:"selectChildren",align:"left"}},[n("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},on:{change:e.resetModel},model:{value:e.form.outputLevelValue,callback:function(t){e.$set(e.form,"outputLevelValue",t)},expression:"form.outputLevelValue"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"禁用",prop:"selectChildren",align:"left"}},[n("el-switch",{attrs:{"active-value":!0,"inactive-value":!1},on:{change:e.resetModel},model:{value:e.form.disabled,callback:function(t){e.$set(e.form,"disabled",t)},expression:"form.disabled"}})],1)],1)],1),n("el-form-item",{attrs:{label:"运营商: ",prop:"isp"}},[n("ele-multi-cascader",{ref:"cascader",attrs:{allowLoadChildren:"",options:e.options,placeholder:"选择运营商","show-all-levels":e.form.showAllLevels,"output-level-value":e.form.outputLevelValue,selectChildren:e.form.selectChildren,loadChildrenMethod:e.loadChildren,disabled:e.form.disabled,labelKey:"title",valueKey:"id",childrenKey:"sub"},on:{change:e.ispChange,spread:e.spread},model:{value:e.form.isp,callback:function(t){e.$set(e.form,"isp",t)},expression:"form.isp"}})],1),n("br"),n("br"),n("p",[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("测试提交")])],1)],1)],1),n("el-col",{staticClass:"demo-col",staticStyle:{"text-align":"left"},attrs:{gutter:100,span:7}},[n("p",[e._v("Output @change(values, items)")]),n("p",[e._v("Values")]),n("pre",[e._v("        "+e._s(e.outputs.values)+"\n      ")]),n("p",[e._v("Items")]),n("pre",[e._v("        "+e._s(e.outputs.items)+"\n      ")])])],1)],1)},a=[],s=n("56d7"),r=n.n(s),o={name:"app",data:function(){return{options:r.a,outputs:{values:[],items:[]},rules:{isp:[{required:!0,trigger:"change",validator:function(e,t,n){0===t.length?n(new Error("请选择运营商")):n()}}]},form:{isp:[],isp2:[],isp3:"",selectChildren:!0,showAllLevels:!0,outputLevelValue:!0,disabled:!1}}},created:function(){this.resetModel()},methods:{ispChange:function(e,t){this.outputs.values=e,this.outputs.items=t},resetModel:function(){var e=this;this.form.isp=[],this.outputs.items=[],this.outputs.values=[],setTimeout(function(t){e.$message({message:"已重置数据",type:"success"}),e.form.isp=e.form.outputLevelValue?["1/11/51","1/11/52","1/12/59"]:["51","52","59"],e.form.isp2=e.form.outputLevelValue?["1/11/51","1/11/52","1/12/59"]:["51","52","59"]},0)},submit:function(){var e=this;this.$refs.form.validate(function(t){t&&e.$message({message:"测试通过",type:"success"})})},spread:function(e){console.log("TCL: spread -> item",e)},loadChildren:function(e){if(e.id)return new Promise(function(e,t){setTimeout(function(t){e([{title:"电信通",id:parseInt(100*Math.random()),sub:null,isLeaf:Math.round(Math.random()),value:parseInt(100*Math.random())}])},0)})}}},c=o,u=(n("3e05"),n("2877")),d=Object(u["a"])(c,i,a,!1,null,"887fb5aa",null);d.options.__file="App.vue";var h,p=d.exports,f=n("5c96"),v=n.n(f),m=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cascader-wrapper"},[n("el-popover",{attrs:{placement:"bottom-start",trigger:"manual","popper-class":e.popperClass},model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}},[n("div",{attrs:{slot:"reference"},slot:"reference"},[n("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:e.placeholder,disabled:e.disabled,size:e.size,"collapse-tags":e.collapseTags,"popper-class":"hide-popper"},on:{focus:e.handleFocus,"remove-tag":e.removeTag,"visible-change":e.visibleChange},model:{value:e.selectedLabels,callback:function(t){e.selectedLabels=t},expression:"selectedLabels"}})],1),n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hidePopover,expression:"hidePopover"}],staticClass:"cascader-menu-wrapper"},e._l(e.casTree,function(t,l){return e.options.length>0?n("ul",{key:l,staticClass:"el-cascader-menu cascader-menu"},e._l(t,function(t,i){return n("li",{key:i,class:{"el-cascader-menu__item":!0,"el-cascader-menu__item--extensible":t[e.childrenKey]&&t[e.childrenKey].length>0,"can-load-children":!t.isLeaf&&!t[e.childrenKey]&&e.allowLoadChildren&&e.showLoadingIndicator,"loading-children":!t.isLeaf&&t.loading&&e.allowLoadChildren&&e.showLoadingIndicator,"has-checked-child":t.indeterminate||t.hasCheckedChild,"is-active":t.checked},on:{click:function(n){e.spreadNext(t[e.childrenKey],l,t)}}},[n("el-checkbox",{attrs:{disabled:t.disabled,indeterminate:t.indeterminate},on:{change:function(n){e.checkedChange(t,n)}},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"item.checked"}}),n("span",[e._v(e._s(t[e.labelKey]))])],1)})):n("ul",{staticClass:"el-cascader-menu cascader-menu"},[n("li",{staticClass:"el-cascader-menu__item dropdown__empty"},[e._v("\n          "+e._s(e.noDataText)+"\n        ")])])}))])],1)}),b=[],g=(n("96cf"),n("1da1")),y=(n("7514"),n("456d"),n("ac6a"),l["default"].prototype.$isServer),C=function(){return!y&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),k=[],w="@@clickoutsideContext",L=0;function x(e,t,n){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&l.target&&i.target)||e.contains(l.target)||e.contains(i.target)||e===l.target||n.context.popperElm&&(n.context.popperElm.contains(l.target)||n.context.popperElm.contains(i.target))||(t.expression&&e[w].methodName&&n.context[e[w].methodName]?n.context[e[w].methodName]():e[w].bindingFn&&e[w].bindingFn())}}!l["default"].prototype.$isServer&&C(document,"mousedown",function(e){return h=e}),!l["default"].prototype.$isServer&&C(document,"mouseup",function(e){k.forEach(function(t){return t[w].documentHandler(e,h)})});var _={bind:function(e,t,n){k.push(e);var l=L++;e[w]={id:l,documentHandler:x(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[w].documentHandler=x(e,t,n),e[w].methodName=t.expression,e[w].bindingFn=t.value},unbind:function(e){for(var t=k.length,n=0;n<t;n++)if(k[n][w].id===e[w].id){k.splice(n,1);break}delete e[w]}},K=n("53ca");function O(e){if(!e&&"object"!==Object(K["a"])(e))throw new Error("error arguments","shallowClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach(function(n){e[n]&&"object"===Object(K["a"])(e[n])?(t[n]=e[n].constructor===Array?[]:{},t[n]=O(e[n])):t[n]=e[n]}),t}function P(e,t){return e[t]&&Array.isArray(e[t])}var T={value:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}},size:{type:String,default:""},selectChildren:{type:Boolean,default:!1},noDataText:{type:String,default:"无数据"},collapseTags:{type:Boolean,default:!1},separator:{type:String,default:"/"},showAllLevels:{type:Boolean,default:!1},outputLevelValue:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!0},allowLoadChildren:{type:Boolean,default:!1},loadChildrenMethod:{type:Function,default:null,return:Promise},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},childrenKey:{type:String,default:"children"}},$={name:"EleMultiCascader",props:T,watch:{casTree:function(){this.setPopperWidth()},options:{deep:!0,handler:function(){this.initOpts(),this.initDatas()}},value:{deep:!0,handler:function(){this.selectedValues!=this.value&&(this.initOpts(),this.initDatas())}},disabled:function(e){e&&this.hidePopover()}},directives:{Clickoutside:_},created:function(){this.popperClass="cascader-popper popper-class-".concat((new Date).getTime()),this.initOpts(),this.initDatas()},mounted:function(){this.elWidth=this.$el.offsetWidth},destroyed:function(){this.clonedOpts=null,this.casTree=null,this.selectedItems=null,this.selectedLabels=null,this.selectedvalues=null},data:function(){return{elWidth:"",popperWidth:"",popperClass:"",showPopover:!1,clonedOpts:[],casTree:[],selectedItems:[],selectedLabels:[],selectedValues:[],loadChildrenPromise:null}},methods:{initOpts:function(){this.clonedOpts=O(this.options),this.recursiveOpt(this.clonedOpts,null),this.casTree=[this.clonedOpts]},initDatas:function(){this.pickCheckedItem(this.clonedOpts)},recursiveOpt:function(e,t){var n=this,l=this;e.forEach(function(e){t&&(e.parent=t),e.indeterminate=!1,e.checked=!1,n.value.some(function(t){return t==n.getLevel(e,l.valueKey,n.outputLevelValue)})&&(e.checked=!0),n.markChildrenChecked(e),n.markParentChecked(e),n.markParentHasCheckChild(e),P(e,l.childrenKey)&&l.recursiveOpt(e[l.childrenKey],e)})},markChildrenChecked:function(e){var t=this;function n(e,l){e&&e.map(function(e){e.disabled||(e.checked=l,e.checked&&(e.indeterminate=!1)),P(e,t.childrenKey)&&n(e[t.childrenKey],l)})}e&&P(e,t.childrenKey)&&this.selectChildren&&n(e[t.childrenKey],e.checked)},markParentChecked:function(e){var t=this;function n(e){var l=0;if(P(e,t.childrenKey)){var i=e[t.childrenKey].some(function(e){return e.indeterminate});e[t.childrenKey].map(function(e){e.checked&&l++}),l===e[t.childrenKey].length?(e.checked=!0,e.indeterminate=!1):(e.checked=!1,e.indeterminate=!!(l>0||i))}e.parent&&n(e.parent)}e.indeterminate=!1,e&&e.parent&&this.selectChildren&&n(e.parent)},markParentHasCheckChild:function(e){var t=this;function n(e){var l=0;if(P(e,t.childrenKey)){var i=e[t.childrenKey].some(function(e){return e.hasCheckedChild});e[t.childrenKey].map(function(e){e.checked&&l++}),e.hasCheckedChild=l>0||i}e.parent&&n(e.parent)}e.hasCheckedChild=!1,e&&e.parent&&!this.selectChildren&&n(e.parent)},getLevel:function(e,t,n){var l=[];function i(e){l.push(e[t]),e.parent&&i(e.parent)}return n?(i(e),l.reverse().join(this.separator)):e[t]},pickCheckedItem:function(e){var t=this;function n(e){var l={};return Object.keys(e).forEach(function(t){"parent"!=t&&(l[t]=e[t])}),P(l,t.childrenKey)&&(l[t.childrenKey]=l[t.childrenKey].map(function(e){return n(e)})),l}function l(e){Array.isArray(e)&&e.map(function(e){if(e.checked){var i=n(e);t.selectedItems.push(i),t.selectedLabels.push(t.getLevel(e,t.labelKey,t.showAllLevels)),t.selectedValues.push(t.getLevel(e,t.valueKey,t.outputLevelValue))}P(e,t.childrenKey)&&l(e[t.childrenKey])})}t.selectedItems=[],t.selectedLabels=[],t.selectedValues=[],l(e)},removeTag:function(e){var t=this;function n(e){var n=null;function l(i){i&&i.find(function(i){if(t.getLevel(i,t.labelKey,t.showAllLevels)===e)return n=i,!0;P(i,t.childrenKey)&&l(i[t.childrenKey])})}if(e)return l(t.clonedOpts),n}var l=n(e);l&&t.checkedChange(l,!1)},checkedChange:function(e,t){e.checked=t,this.$emit("clickItem",e),this.markChildrenChecked(e),this.markParentChecked(e),this.markParentHasCheckChild(e),this.pickCheckedItem(this.clonedOpts),this.refresPopover(),this.syncData()},syncData:function(){this.$emit("input",this.selectedValues),this.$emit("change",this.selectedValues,this.selectedItems)},spreadNext:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t,n,l){var i,a,s,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,!i.allowLoadChildren||t||l[i.childrenKey]||!i.loadChildrenMethod||i.loadChildrenMethod.constructor!==Function||i.loadChildrenPromise||l.isLeaf){e.next=15;break}if(a=this.loadChildrenMethod(l),a.constructor!==Promise){e.next=14;break}return i.loadChildrenPromise=a,this.$set(l,"loading",!0),e.next=8,i.loadChildrenPromise.catch(function(e){r.$set(l,"loading",!1)});case 8:s=e.sent,this.$set(l,"loading",!1),i.loadChildrenPromise=null,s&&s.constructor===Array?(this.recursiveOpt(s,l),this.$set(l,i.childrenKey,s),t=s):console.warn("The resolved value by loadChildrenMethod must be Option Array !"),e.next=15;break;case 14:console.warn("You must return a Promise instance in loadChildrenMethod !");case 15:(n||0===n)&&-1===i.casTree.indexOf(t)&&(t&&t.length>0?i.casTree.splice(n+1,i.casTree.length-1,t):i.casTree.splice(n+1,i.casTree.length-1),i.$emit("spread",l));case 16:case"end":return e.stop()}},e,this)}));return function(t,n,l){return e.apply(this,arguments)}}(),setPopperWidth:function(){var e=161*this.casTree.length;document.getElementsByClassName(this.popperClass)[0].style.width=e+"px"},visibleChange:function(e){e&&(this.showPopover=!0)},handleFocus:function(e){this.disabled||this.$emit("focus",e)},hidePopover:function(e){this.showPopover=!1,this.$emit("blur",e)},refresPopover:function(){var e=new Event("resize");setTimeout(function(){window.dispatchEvent(e)},66)}}},M=$,j=(n("a47a"),Object(u["a"])(M,m,b,!1,null,null,null));j.options.__file="main.vue";var A=j.exports;A.install=function(e){e.component(A.name,A)};var E=A;l["default"].config.productionTip=!1,l["default"].use(v.a),l["default"].use(E),new l["default"]({render:function(e){return e(p)}}).$mount("#app")},a47a:function(e,t,n){"use strict";var l=n("2e42"),i=n.n(l);i.a}});
//# sourceMappingURL=app.fa8f2037.js.map